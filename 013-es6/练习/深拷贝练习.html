<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>深拷贝练习.html</title>
</head>
<body>
	
</body>
<script>
	function getDataType(data){
		if(data instanceof Array){//顺序不能颠倒 因为数组类型也是Object
			return 'array'
		}else if(data instanceof Object){
			return 'object'
		}
	}
	function droopCopy(data){
		let reslut;
		//1确定data的类型
		if(getDataType(data)=='array'){
			reslut=[]
		}else if(getDataType(data)=='object'){
			reslut={}
		}else{
			return data;
		}
		for( let key in data){
			let vlu=data[key];
			if(getDataType(vlu)=='array'||getDataType(vlu)=='object'){
				reslut[key]=droopCopy(vlu);
			}else{
				reslut[key]=vlu;
			}
		}
		return reslut;
	}
		const obj={
			name:"TOM",
			age:18,
			friend:{
				name:'Peter'
			},
			pets:['cat','dog']
		}
		const obj1=droopCopy(obj);
		obj1.name='熊家满';
		obj1.friend.name='熊家满';
		obj1.pets.push('tigger');
		console.log('obj',obj);
		console.log('obj1',obj1);
</script>
</html>