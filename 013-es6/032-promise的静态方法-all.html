<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>032-promise的静态方法-all.html</title>
</head>
<body>
	
</body>
<script>

	
	// const p1=Promise.resolve('p1 data'); 
	// const p2=Promise.resolve('p2 data'); 
	// const p3=Promise.resolve('p3 data'); 
	// const p4=Promise.reject('p4 reject'); 
	// const p=Promise.all([p1,p2,p3,p4]);
	// console.log(p)
	// p
	// .then(data=>{//都成功才执行
	// 	console.log(data);
	// }).catch(err=>{//有一个失败就会执行
	// 	console.log(err);
	// })
	// 1需要一个生产promise对象的函数
	const getImgePromise=(src)=>new Promise((resolve,reject)=>{
		//异步处理逻辑
		const img=new Image();
		img.onload=function(){
			resolve(src+'    img succse')
		}
		img.onerror=function(){
			reject(src+'img error')
		}
		img.src=src;
	})
		const Promises=['img/0ca328b85f9e4dd333e776dfbf3ba1d1.jpeg','img/28c6b34df33084c4d4bf2419e04fcd50.jpg','img/5e607f101197dc0910bcea8915e627b5.jpg','img/8e91988c685eb59cdd4b0ae2482861df.jpg'].map(src=>getImgePromise(src));
		console.log(Promises);
		const p=Promise.all(Promises);
		p.then(data=>{
			console.log(data)
		})
		.catch(err=>{
			console.log(err)
		})
</script>
</html>