<!DOCTYPE html>
<html lang="en">
<head
	<meta charset="UTF-8">
	<title>5-22作业.html</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#father{
			width: 400px;
			height: 400px;
			border: 1px solid #000;
			margin: 100px auto;
			position: relative;
			/*box-sizing: border-box;*/
		}
		#son{
			width: 50px;
			height: 50px;
			background-color: red;
			position: absolute;
			top: 0px;
			left: 0px;
		}
		#btn{
			position: absolute;
			left: 1160px;
			top: 460px;
		}
	</style>
</head>
<body>
	<div id="father">
		<div id="son"></div>
	</div>
	<button id="btn">开始</button>
</body>
<script>
	var oFather=document.getElementById('father');
	var oSon=document.getElementById('son');
	var oBtn=document.getElementById('btn');
	var iSpeedL=5;
	var iSpeedT=5;
	oBtn.onclick=function(ev){
		setTimeout(function(){
			clearInterval(timer);
		var timer=setInterval(function(){
			iSpeedL+=0.4;
			iSpeedT+=0.4;
			if(iSpeedT<0){
				iSpeedT=0;
			}
			if(iSpeedL<0){
				iSpeedL=0;
			}
			//向下加速移动
			if(Math.abs(oFather.offsetHeight-oSon.offsetHeight-oSon.offsetTop)<Math.abs(iSpeedT)){
				oSon.style.top=oFather.offsetHeight-oSon.offsetHeight+'px';
				clearInterval(timer);
			}else{
				oSon.style.top=oSon.offsetTop+iSpeedT+'px';
			}
			//向左加速移动
			if(Math.abs(oFather.offsetWidth-oSon.offsetWidth-oSon.offsetLeft)<Math.abs(iSpeedL)){
				oSon.style.left=oFather.offsetWidth-oSon.offsetWidth+'px';
				clearInterval(timer);
				console.log(oSon.offsetLeft)
			}else{
				oSon.style.left=oSon.offsetLeft+iSpeedL+'px';
			}
		},50)
		},2000)
		
	}
	document.onkeydown=function(ev){
		
		if(ev.keyCode==37){
		iSpeedL=iSpeedL-10
		}
		if(ev.keyCode==38){
		iSpeedT=iSpeedT-10
		}
		if(ev.keyCode==39){
		iSpeedL=iSpeedL+10
		}
		if(ev.keyCode==40){
		iSpeedT=iSpeedT+10
		}
			}
</script>
</html>