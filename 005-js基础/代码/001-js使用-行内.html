<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js基础</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		div{
			width: 100px;
			height: 100px;
			margin: 100px auto;
			border: 1px solid #000;
		}
	</style>
</head>
<body>
	<div onclick="this.style.width='200px';this.style.height='200px';this.style.background='red'"></div>
</body>
<script>
var memoize = function(fn){
    var toStr = Object.prototype.toString;
    var isCallable = function (fn) {
       return typeof fn === 'function' || toStr.call(fn) === '[object Function]';
    }
    if (!isCallable(fn)) {
        throw new TypeError('memoize: when provided, the first argument must be a function');
    }
    var cache = {};
    return function(){
        if (arguments.length < 1) {
            throw new TypeError('memoize: arguments cannot be null or undefined');
        }
        var args = Array.prototype.slice.call(arguments);
        var str = args.join('-');
		cache[str] = cache[str] || fn.apply(fn, arguments);//这一点是关键 如果cache里面有这两个数的键就不运算 直接取值
        return cache[str];
    };
};
var sum = memoize(function (a, b) {
	console.log('开始相加');
	// console.log(a+b);
    return a + b;
});
console.log(sum(2,4));

</script>
</html>